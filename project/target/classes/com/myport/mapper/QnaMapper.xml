<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
 <mapper namespace="com.myport.mapper.QnaMapper">
 	
 	<insert id="insert">
 		<selectKey keyProperty="bid" order="BEFORE" resultType="Long">
			select qna_board_seq.nextval from dual
		</selectKey>
 	
 		insert into qna_board (bid, bname, btitle, bcontent, btype, bgroup, bstep, bindent)
 		values (#{bid}, #{bName}, #{bTitle}, #{bContent}, #{bType}, #{bGroup}, #{bStep}, #{bIndent})
 	</insert>
 	
 	<select id="getList" resultType="com.myport.domain.QnaVO">
 		<![CDATA[
			select *
			from (
			select /*+INDEX_DESC(qna_board SYS_C008488) */
			rownum rn, bid, bname, btitle, bcontent, bdate, btype, bgroup, bstep, bindent
			from qna_board
			where #{memberId} = memberId
		]]>
		<![CDATA[
			)
		]]>
 	</select>
 		
 </mapper>